<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>	
		</style>
	</head>
	<body>
		<script type="text/javascript">
			function System(){
				var project="用户系统",
					user={};
				this.welcome=function(){
					var result=prompt("欢迎来到"+project+"请选择1.登录 2.注册");
					if(result === null){
						return alert("欢迎使用本系统！");
					}
					try{
						this[[,"Login","Reginster"][result]]();
					}catch(e){
						alert("你的输入有误！");
						arguments.callee.call(this);
					}
				}
				
				this.Login=function(){
					var username=prompt("请输入用户名");
					if(!username || !username.trim().length){
						alert("你的注册用户名不能为空！");
						return arguments.callee.call(this);
					}
					var password=prompt("请输入密码");
					if(!password || !password.trim().length){
						alert("你的密码不能为空！");
						return arguments.callee.call(this);
					};
					if(user[username] !== password){
						return [this.welcome , arguments.callee][+confirm("用户名或密码有误，是否继续登录？")].call(this);
					}
					alert("登录成功！");
				}
				this.Reginster=function(){
					var username=prompt("请输入用户名");
					if(!username || !username.trim().length){
						alert("你的注册用户名不能为空！");
						return arguments.callee.call(this);
					}
					var password=prompt("请输入密码");
					if(!password || !password.trim().length){
						alert("你的密码不能为空！");
						return arguments.callee.call(this);
					};
					var repassword=prompt("请再次输入密码");
					if(!repassword || !repassword.trim().length){
						alert("你的重置密码不能为空！");
						return arguments.callee.call(this);
					}
					if(password !== repassword){
						alert("两次输入的密码不一致");
						return arguments.callee.call(this);
					}
					user[username]=password;
					(function(result){
						var a=setTimeout(function(){
							clearTimeout(a);
							this[["welcome","Login"][+result]]();
						}.bind(this),3000);
					}).apply(this,[confirm("注册成功是否登录？")]);
				};
				this.welcome();
			}
			new System(); 
			// function Login(option){
			// 	this.Username=option.Username;
			// 	this.Password=option.Password;
			// 	console.log("this.Username");
			// 	console.log("this.Password");


			// }
			// function Reginster(){
			// 	var Regname=prompt("请输入用户名");
			// 	if(Regname==""){
			// 		alert("你的注册用户名不能为空！");
			// 		Reginster();
			// 	}else{
			// 		var	RegPwd=prompt("请输入密码");
			// 		if(RegPwd==""){
			// 			alert("你的密码不能为空！");
			// 			Reginster();
			// 		}else{
			// 			var	RegRpwd=prompt("请再次输入密码");
			// 			if(RegRpwd==""){
			// 				alert("你的重置密码不能为空！");
			// 				Reginster();
			// 			}else{
			// 				console.log("你赢了！");
			// 				Login(Regname);
			// 			}
			// 		}
			// 	}
			// 	if(RegPwd!=RegRpwd){
			// 		alert("你的重置密码和密码不一致！");
			// 		Reginster();
			// 	}else{

			// 	}

			// }
			// Reginster()
			// function Exit(){

			// }
			// new Username({

			// })

		</script>
		<script type="text/javascript">
			// function Parent(sex){
			// 	// this.sex=sex ? "男":"女";
			// 	// this.gene=sex ? "帅":"美";
			// 	this.sex=["女","男"][sex];
			// 	this.gene=["美","帅"][sex];
			// }
			// function Son(){
			// 	// Parent.apply(this,[1]);
			// 	Parent.call(this,1);
			// }
			// function Daughter(){
			// 	// Parent.apply(this,[0]);
			// 	Parent.call(this,0);
			// }
			// console.log(new Parent(1),new Parent(0),new Son(),new Daughter());
		</script>
	</body>
</html>